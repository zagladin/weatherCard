(this.webpackJsonpweather_forecast=this.webpackJsonpweather_forecast||[]).push([[0],{25:function(e,t,n){e.exports={background:"Wrapper_background__2NZfL"}},27:function(e,t,n){e.exports={weatherElement:"WeatherElement_weatherElement__3l5Qe"}},32:function(e,t,n){},4:function(e,t,n){e.exports={weatherWrapper:"styles_weatherWrapper__1D7L9",weatherContent:"styles_weatherContent__sDiqf",leftSide:"styles_leftSide__e-bFI",temperature:"styles_temperature__1FURS",rightSide:"styles_rightSide__2dR0m",rightSideTop:"styles_rightSideTop__2v4cU",rightSideBottom:"styles_rightSideBottom__1WxPs",hourlyForecast:"styles_hourlyForecast__3S-X7"}},5:function(e,t,n){e.exports={hourlyWeatherWrapper:"styles_hourlyWeatherWrapper__RklJ3",temps:"styles_temps__3MANQ",temperature:"styles_temperature__1x7P_",uvindex:"styles_uvindex__3J3Rp",pops:"styles_pops__1ismH",wind:"styles_wind__rVO-N",dateTime:"styles_dateTime__3e2mq"}},53:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(24),c=n.n(i),s=(n(32),n(3)),o=n(25),l=n.n(o),u=n(26),d=n.n(u),h=n(7),p=n.n(h),m=n(0),j=function(e){var t=e.changeColor,n=Object(r.useState)(!1),a=Object(s.a)(n,2),i=a[0],c=a[1],o=Object(r.useMemo)((function(){return["#000000","#ff0000","#001f3f","#0074D9","#3D9970","#2ECC40","#FF4136","#85144b","#F012BE","#E27D60","#85DCBA","#E8A87C","#C38D9E","#41B3A3","#242582","#553D67","#F64C72","#99738E","#2F2FA2","#8D8741","#659DBD","#DAAD86","#BC986A","#FBEEC1","#379683","#3D5547","#3FEEE6","#97CAEF","#5CDB95","#5D5C61","#557A95","#501B1D","#64485C","#ADADAD","#190061","#3500D3","#282828","#950740","#C3073F","#AFD275","#7E685A","#80777d","#66FCF1","#1F2833","#e36a6a","#AC3B61","#123C69","#2C3531","#116466"]}),[]),l=d.a.bind(p.a)({palette:!0,visible:i});return Object(m.jsxs)("div",{className:p.a.colorChanger,children:[Object(m.jsx)("span",{role:"img","aria-label":"palette",title:"Change color",onClick:function(){return c((function(e){return!e}))},children:"\ud83c\udfa8"}),Object(m.jsxs)("div",{className:l,children:[Object(m.jsx)("div",{className:p.a.wrapper,children:o.map((function(e){return Object(m.jsx)("div",{className:p.a.colorBlock,style:{background:e},onClick:function(){return t(e)}},e)}))}),Object(m.jsx)("div",{className:p.a.pointer})]})]})},f=a.a.memo(j),v=n(4),b=n.n(v),g=n(9),_=n(6),x=n.n(_),w=n(11),O=n(12),y=n.n(O),S="https://serene-beyond-92116.herokuapp.com",k=function(){var e=Object(w.a)(x.a.mark((function e(t,n){var r,a,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(S,"/get-weather"),a={latitude:t,longitude:n},e.prev=2,e.next=5,y.a.post(r,a);case 5:if(!(i=e.sent)){e.next=8;break}return e.abrupt("return",i.data);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.warn("Error while getting weather data ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(w.a)(x.a.mark((function e(t,n){var r,a,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(S,"/get-city"),a={latitude:t,longitude:n},e.prev=2,e.next=5,y.a.post(r,a);case 5:if(!(i=e.sent)){e.next=8;break}return e.abrupt("return",i.data);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}();function N(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),c=Object(s.a)(i,2),o=c[0],l=c[1],u=Object(r.useState)({temperature:"",humidity:"",pressure:"",pops:"",accuracy:"",icon:"",UVI:"",wind:"",windAngle:"",feelsLike:"",sunrise:"",sunset:"",dt:0}),d=Object(s.a)(u,2),h=d[0],p=d[1],m=Object(r.useState)([]),j=Object(s.a)(m,2),f=j[0],v=j[1];return{currentWeather:h,hourlyWeather:f,loading:n,cityName:o,getLocation:function(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition((function(e){!function(e,t,n){p((function(e){return Object(g.a)(Object(g.a)({},e),{},{accuracy:n.toFixed(2)})})),a(!0),C(e,t).then((function(e){return l(e[0].name)})).catch((function(e){return console.warn("Cannot get location info! ",e)})),k(e,t).then((function(e){var t=e.current,n=t.weather[0].icon,r="https://openweathermap.org/img/wn/".concat(n,".png"),a=.75*t.pressure,i=t.weather[0].main;p((function(e){return Object(g.a)(Object(g.a)({},e),{},{temperature:t.temp.toFixed(1),dt:t.dt,UVI:t.uvi,feelsLike:t.feels_like.toFixed(1),humidity:t.humidity,pressure:a,pops:i,wind:t.wind_speed,windAngle:t.wind_deg,icon:r,sunrise:t.sunrise,sunset:t.sunset})})),v(e.hourly.slice(0,6))})).catch((function(e){return console.error(e)})).finally((function(){return a(!1)}))}(e.coords.latitude,e.coords.longitude,e.coords.accuracy)}),(function(e){1===e.code?alert("Error: Access to geolocation is denied!"):2===e.code&&alert("Error: Position is unavailable!")}),{maximumAge:6e5,enableHighAccuracy:!0})}else alert("Geolocation is not supported by this browser.")}}}var F=n(5),W=n.n(F),D=function(e){return new Date(1e3*e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},E=function(e){var t=e.width,n=e.height,r=e.fill;return Object(m.jsx)("svg",{"data-qa":"icon","data-role":"icon-Wind",width:t,height:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",fill:r,children:Object(m.jsx)("path",{d:"M128 128v768h64V128z m160 0c-17.728 0-32 14.272-32 32v320c0 8.96 3.776 17.728 10.496 23.744 6.784 6.016 15.744 8.96 24.512 8.256l640-64A32.256 32.256 0 0 0 960 416v-192a32.256 32.256 0 0 0-28.992-32l-640-64H288zM320 195.52l64 6.208v236.544l-64 6.208z m128 12.48l64 6.528v210.944L448 432z m128 12.992l64 6.528v184.96l-64 6.528z m128 12.8l64 6.208v160l-64 6.272z m128 12.736l64 6.464v134.016l-64 6.464z"})})};E.defaultProps={width:24,height:24,fill:"#fff"};var A=a.a.memo(E),B=function(e){var t=e.dateTime,n=e.temperature,r=e.icon,a=e.pops,i=e.uvindex,c=e.wind;return Object(m.jsxs)("div",{className:W.a.hourlyWeatherWrapper,children:[Object(m.jsx)("div",{className:W.a.temps,children:Object(m.jsx)("div",{className:W.a.temperature,children:n})}),Object(m.jsxs)("div",{className:W.a.uvindex,children:["UV"," ",i]}),Object(m.jsxs)("div",{className:W.a.pops,children:[Object(m.jsx)("img",{src:r,alt:"{weather icon}"}),a]}),Object(m.jsxs)("div",{className:W.a.wind,children:[Object(m.jsx)(A,{width:24,height:24}),c," ","m/s"]}),Object(m.jsx)("div",{className:W.a.dateTime,children:D(t)})]})},z=a.a.memo(B),L=function(e){var t=e.forecast;return null===t||void 0===t?void 0:t.map((function(e){var t="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png");return Object(m.jsx)("div",{children:Object(m.jsx)(z,{dateTime:e.dt,temperature:e.temp.toFixed(1),feelsTemp:e.feels_like.toFixed(1),pops:e.weather[0].main,wind:e.wind_speed,icon:t,uvindex:e.uvi})},e.dt)}))},T=a.a.memo(L),P=n(27),U=n.n(P),I=function(e){var t=e.name,n=e.value,r=e.suffix,a=e.nameSize,i=e.valueSize;return Object(m.jsxs)("div",{className:U.a.weatherElement,children:[Object(m.jsx)("div",{style:{fontSize:"".concat(a,"px")},children:t}),Object(m.jsxs)("div",{style:{fontSize:"".concat(i,"px")},children:[n,r&&Object(m.jsx)("span",{children:r})]})]})};I.defaultProps={suffix:null,nameSize:null,valueSize:null};var M=a.a.memo(I),R=n(8),V=n.n(R),J=function(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(r.useMemo)((function(){return["Launching the weather probe","Setting the link","Establishing connection","Processing the data"]}),[]);return Object(r.useEffect)((function(){var e;return n<4?e=setInterval((function(){a((function(e){return e+1}))}),2e3):(a(0),clearInterval(e)),function(){return clearInterval(e)}}),[n]),Object(m.jsx)("div",{className:V.a.loaderWrapper,children:Object(m.jsxs)("div",{className:V.a.loading,children:[Object(m.jsx)("span",{children:i[n]}),Object(m.jsx)("span",{className:V.a.dot1}),Object(m.jsx)("span",{className:V.a.dot2}),Object(m.jsx)("span",{className:V.a.dot3})]})})},H=a.a.memo(J),q=function(){var e=N(),t=e.loading,n=void 0===t||t,a=e.cityName,i=e.getLocation,c=e.hourlyWeather,s=e.currentWeather,o=s.accuracy,l=s.temperature,u=s.humidity,d=s.pressure,h=s.wind,p=s.sunrise,j=s.sunset,f=s.UVI;Object(r.useEffect)((function(){return i()}),[]);var v=new Date,g=v.toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}),_=v.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),x=D(p),w=D(j);return Object(m.jsx)("div",{className:b.a.weatherWrapper,children:n?Object(m.jsx)(H,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:b.a.weatherContent,children:[Object(m.jsxs)("div",{className:b.a.leftSide,children:[l&&Object(m.jsxs)("div",{className:b.a.temperature,children:[Object(m.jsx)("span",{children:"".concat(l)}),Object(m.jsx)("sup",{children:"\xb0"})]}),Object(m.jsx)(M,{name:g,value:_}),Object(m.jsx)(M,{name:"Sunrise",value:x}),Object(m.jsx)(M,{name:"Sunset",value:w})]}),Object(m.jsxs)("div",{className:b.a.rightSide,children:[Object(m.jsxs)("div",{className:b.a.rightSideTop,children:[Object(m.jsx)("span",{children:a}),Object(m.jsx)("span",{children:"accuracy ~ ".concat(o," m.")})]}),Object(m.jsxs)("div",{className:b.a.rightSideBottom,children:[Object(m.jsx)(M,{name:"Pressure",value:d,suffix:"mmPa",nameSize:24}),Object(m.jsx)(M,{name:"Humidity",value:u,suffix:"%",nameSize:24}),Object(m.jsx)(M,{name:"UV index",value:f,nameSize:24}),Object(m.jsx)(M,{name:"Wind",value:h,suffix:"m/s",nameSize:24})]})]})]}),Object(m.jsx)("div",{className:b.a.hourlyForecast,children:Object(m.jsx)(T,{forecast:c})})]})})},G=a.a.memo(q),Q=function(){var e=window.localStorage.getItem("color"),t=Object(r.useState)(e||"#FFF"),n=Object(s.a)(t,2),a=n[0],i=n[1],c=Object(r.useCallback)((function(e){window.localStorage.setItem("color",e),i(e)}),[]);return Object(m.jsxs)("div",{className:l.a.background,style:{backgroundColor:a},children:[Object(m.jsx)(G,{}),Object(m.jsx)(f,{changeColor:c})]})},Y=a.a.memo(Q),Z=function(){return Object(m.jsx)(Y,{})},K=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var $=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(Z,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/weatherCard",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/weatherCard","/service-worker.js");K?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):X(t,e)}))}}(),$()},7:function(e,t,n){e.exports={colorChanger:"styles_colorChanger__jpZgR",palette:"styles_palette__2tMW8",pointer:"styles_pointer__1U38Y",wrapper:"styles_wrapper__26MUs",colorBlock:"styles_colorBlock__2IMSU",visible:"styles_visible__2omKP"}},8:function(e,t,n){e.exports={loaderWrapper:"styles_loaderWrapper__3SYd_",loading:"styles_loading__1DgyT",scaleUpDown:"styles_scaleUpDown__2RJYn",dot1:"styles_dot1__2Wkm6",dot2:"styles_dot2__QadIP",dot3:"styles_dot3__3uFLv"}}},[[53,1,2]]]);
//# sourceMappingURL=main.31062746.chunk.js.map